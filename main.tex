\newif\ifanonymous
\newif\iflncs
\newif\ifccs
\newif\iftoday
\newif\ifonecolumn
\newif\iftwocolumn
\todaytrue

% pick one: \ccstrue or \lncstrue; don't forget to `make clean`
% \ccstrue
\lncstrue

\anonymoustrue

\iflncs
\onecolumntrue
\fi
\ifccs
\twocolumntrue
\fi
\iflncs
\documentclass{llncs}
\fi
\ifccs
\documentclass[sigconf, anonymous]{acmart}
\fi

\iflncs
\usepackage[colorlinks=true,citecolor=blue,linkcolor=magenta]{hyperref}
\fi

\usepackage{preamble}

\ifccs
\input{ccs-metadata}
\fi

\iflncs
\pagestyle{plain}
\fi

%\iflncs
%\usepackage{geometry}
%\geometry{
%  a4paper,
%  textwidth=15cm,
%  textheight=21.5cm,
%  heightrounded,
%  hratio=1:1,
%  vratio=4:5,
%}
%\fi

\begin{document}
\import{./}{title.tex}

\import{./}{abstract.tex}

\ifccs
\input{ccs-keywords}
\maketitle
\fi

\iflncs
\thispagestyle{plain}
\fi

\input{body}

\newpage
\ifccs
  \bibliographystyle{ACM-Reference-Format}
\else
  \bibliographystyle{abbrv}
\fi
\bibliography{refs}

\end{document}
